# Диалоговые сцены

# Диалог с торговцем
label dialogue_merchant:
    scene bg room
    merchant "Добро пожаловать в мою лавку, путник!"
    merchant "У меня есть множество товаров для любого случая."
    
    menu:
        "Что у вас есть на продажу?":
            jump trade_menu
        
        "Расскажите о городе":
            merchant "Этот город известен своими торговцами и авантюристами."
            merchant "Здесь можно найти все, что душе угодно - от простых зелий до редких артефактов."
            merchant "Но будьте осторожны, не все здесь честные люди."
            jump dialogue_merchant
        
        "До свидания":
            merchant "Заходите еще! У меня всегда есть что-то новое."
            jump world_map

# Диалог с тренером
label dialogue_trainer:
    scene bg room
    trainer "Приветствую, воин!"
    trainer "Я вижу, что вы ищете способы улучшить свои навыки."
    trainer "Я могу обучить вас различным техникам за небольшую плату."
    
    menu:
        "Показать мне тренировки":
            jump training_menu
        
        "Расскажите о навыках":
            trainer "В этом мире есть множество навыков, которые можно развивать."
            trainer "Боевые навыки помогут вам в сражениях."
            trainer "Социальные навыки пригодятся в общении и соблазнении."
            trainer "А магические навыки откроют новые возможности."
            jump dialogue_trainer
        
        "Спасибо, не сейчас":
            trainer "Когда будете готовы, я всегда здесь."
            jump world_map

# Диалог с магом
label dialogue_wizard:
    scene bg room
    wizard "Ах, еще один искатель магических знаний!"
    wizard "Магия - это искусство, требующее терпения и ума."
    wizard "Но для тех, кто готов учиться, она открывает невероятные возможности."
    
    menu:
        "Обучите меня магии":
            jump magic_training
        
        "Расскажите о магии":
            wizard "Магия в этом мире основана на понимании природных сил."
            wizard "Чем выше ваш интеллект, тем больше магических возможностей у вас будет."
            wizard "Но помните - магия требует не только знаний, но и мудрости."
            jump dialogue_wizard
        
        "Покажите заклинания":
            wizard "К сожалению, я не могу показать заклинания здесь."
            wizard "Но я могу обучить вас основам магического искусства."
            jump dialogue_wizard
        
        "До свидания":
            wizard "Пусть магия будет с вами, путник."
            jump world_map

# Диалог со стражником
label dialogue_guard:
    scene bg room
    guard "Стой! Кто идет?"
    guard "Ах, это вы. Проходите."
    
    menu:
        "Расскажите о безопасности":
            guard "В городе относительно безопасно, но в лесу и пещерах нужно быть осторожным."
            guard "Там обитают различные монстры - гоблины, орки, тролли."
            guard "Если вы не уверены в своих силах, лучше не ходить туда в одиночку."
            jump dialogue_guard
        
        "Есть ли какие-то правила?":
            guard "Основное правило - не нарушать покой других жителей."
            guard "Торговля разрешена, но не обманывайте людей."
            guard "И помните - ваша репутация важна в этом городе."
            jump dialogue_guard
        
        "Спасибо за информацию":
            guard "Будьте осторожны, путник."
            jump world_map

# Случайные встречи
label random_encounter:
    scene bg room
    python:
        encounters = [
            "Вы встречаете странствующего торговца, который предлагает вам редкие товары.",
            "Местный житель рассказывает вам интересную историю о сокровищах в пещере.",
            "Вы видите группу авантюристов, возвращающихся из опасного путешествия.",
            "Старый мудрец дает вам совет о том, как улучшить свои навыки.",
            "Вы слышите слухи о прекрасной даме в замке, которая ищет достойного кавалера."
        ]
        encounter = renpy.random.choice(encounters)
    
    "[encounter]"
    
    menu:
        "Интересно, расскажите подробнее":
            "К сожалению, это все, что вы можете узнать сейчас."
            "Возможно, позже вы встретите больше информации об этом."
            jump world_map
        
        "Продолжить путь":
            jump world_map

# Квестовые диалоги
label quest_dialogue:
    scene bg room
    "Вы встречаете человека, который выглядит обеспокоенным."
    "Он рассказывает вам о проблеме, которую нужно решить."
    
    menu:
        "Я помогу вам":
            "Спасибо! Ваша помощь очень важна для нас."
            "Возвращайтесь, когда выполните задание."
            python:
                # Здесь можно добавить логику квестов
                pass
            jump world_map
        
        "Извините, я занят":
            "Понимаю. Может быть, в другой раз."
            jump world_map

# Диалог о репутации
label reputation_dialogue:
    scene bg room
    python:
        reputation = progression_system.player_reputation
        title = get_player_title()
    
    "Люди в городе говорят о вас."
    
    if reputation >= 5:
        "Они считают вас героем и уважают ваши поступки."
        "Ваша репутация: [reputation]/10"
        "Ваш титул: [title]"
    elif reputation >= 0:
        "Они относятся к вам нейтрально."
        "Ваша репутация: [reputation]/10"
        "Ваш титул: [title]"
    else:
        "Они смотрят на вас с подозрением."
        "Ваша репутация: [reputation]/10"
        "Ваш титул: [title]"
    
    menu:
        "Как улучшить репутацию?":
            "Выполняйте добрые дела, помогайте людям."
            "Побеждайте в боях, но не нападайте на невинных."
            "Успешно соблазняйте людей, но не обманывайте их."
            jump reputation_dialogue
        
        "Понятно":
            jump world_map 